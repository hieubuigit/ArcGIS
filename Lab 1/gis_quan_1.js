var point_template_tree = {
    title: "{Name}",
    content: "Cây này ở <b>{Location}</b>.",
};
var point_template_light = {
    title: "{Name}",
    content: "Bóng đèn này ở <b>{Location}</b>.",
};
var point_template_chair = {
    title: "{Name}",
    content: "Cái ghế này ở <b>{Location}</b>.",
};
var point_template_area = {
    title: "{Name}",
    content: "Khu vực này ở <b>{Location}</b>.",
};
var point_template_university = {
    title: "{Name}",
    content: "Trường ở <b>{Location}</b>.",
};

var polygons = [
    {
        type: "polygon",
        rings: [
            [106.80514114445627, 10.870158436990936],
            [106.80400388783394, 10.868915147546755],
            [106.8032099539655, 10.868325110065758],
            [106.80245893544132, 10.869210165849735],
            [106.80245893544132, 10.869484111155634],
            [106.8037463957685, 10.871085632526057],
        ],
        Name: "Phường Tân Định",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [227, 139, 79, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79522769993694, 10.870537744603572],
            [106.79522769993694, 10.8687044200089],
            [106.79466980046185, 10.866913229929262],
            [106.7956139380351, 10.866618209355593],
            [106.79672973698534, 10.866639282263392],
            [106.79750221318164, 10.867018594349172],
            [106.79733055180469, 10.867987945267126],
            [106.7971374327556, 10.868156527714055],
            [106.79741638249315, 10.868535837871478],
            [106.79760950154225, 10.869589474667853],
            [106.79715889042772, 10.87039023614485],
        ],
        Name: "Phường Đa Kao",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [0, 153, 0, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79479854649456, 10.870664180367287],
            [106.7936398322001, 10.871528156651996],
            [106.7935325438395, 10.871991752651327],
            [106.79394023960977, 10.872834652622513],
            [106.79469125813395, 10.873424681185172],
            [106.79580705708419, 10.87348789846195],
            [106.7960216338054, 10.87317181194409],
            [106.79763095921437, 10.873045377243164],
            [106.79773824757497, 10.872497492919857],
            [106.798103028001, 10.871991752651327],
            [106.79698722905079, 10.870474526701626],
        ],
        Name: "Đại học TDTT",
        Location: "Phường Bến Nghé",
        symbol: {
            type: "simple-fill",
            color: [204, 153, 0, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Bến Thành",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Nguyễn Thái Bình",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Phạm Ngũ Lão",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Cầu Ông Lãnh",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Cô Giang",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Nguyễn Cư Trinh",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
    {
        type: "polygon",
        rings: [
            [106.79705160206711, 10.874646879494943],
            [106.79707305973923, 10.875426555110405],
            [106.79687994069013, 10.875721566973882],
            [106.79700868672286, 10.875953361804736],
            [106.79668682164106, 10.876269445374627],
            [106.79619329518232, 10.876311589825294],
            [106.79600017613323, 10.876627673015491],
            [106.79602163380535, 10.876964828049044],
            [106.7971588904277, 10.87744948774189],
            [106.79896133488576, 10.87677517838957],
            [106.79915445393483, 10.876185156455417],
            [106.79909008091848, 10.875552988801912],
            [106.79838197773852, 10.874309721840753],
        ],
        Name: "Phường Cầu Kho",
        Location: "",
        symbol: {
            type: "simple-fill",
            color: [51, 102, 255, 0.4],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_university,
    },
];

var points = [
    {
        type: "point",
        longitude: 106.7986823851482,
        latitude: 10.876185156455417,
        Name: "Cây xanh 01",
        Location: "trong khuông viên trường ĐH KHTN",
        symbol: {
            type: "simple-marker",
            color: [0, 153, 51],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_tree,
    },
    {
        type: "point",
        longitude: 106.79597871846113,
        latitude: 10.872455347930213,
        Name: "Bóng Đèn 01",
        Location: "trong khuông viên trường ĐH TDTT",
        symbol: {
            type: "simple-marker",
            color: [255, 204, 0],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_light,
    },
    {
        type: "point",
        longitude: 106.80378931111271,
        latitude: 10.870369163501929,
        Name: "Ghế ngồi",
        Location: "trong khuông viên trường ĐH CNTT",
        symbol: {
            type: "simple-marker",
            color: [153, 51, 51],
            outline: {
                color: [255, 255, 255],
                width: 1,
            },
        },
        popupTemplate: point_template_chair,
    },
];

var lines = [
    {
        type: "polyline",
        paths: [
            [106.6816512, 10.7654274],
            [106.6818712, 10.7657373],
            [106.6843154, 10.7682012],
            [106.6844808, 10.7683679],
            [106.6872399, 10.7712886],
            [106.6894226, 10.7736279],
            [106.6949544, 10.7795562],
            [106.6980875, 10.7828693],
            [106.6919813, 10.7878903],
            [106.6887017, 10.7904466],
            [106.6861523, 10.7925164],
            [106.6863444, 10.7928014],
            [106.686387, 10.793049],
            [106.6863015, 10.7932862],
            [106.6859153, 10.7936024],
            [106.6852419, 10.7942013],
            [106.6851481, 10.7942988],
            [106.685081, 10.7944358],
            [106.6850381, 10.794557],
            [106.6849362, 10.7952948],
            [106.6848289, 10.7959508],
            [106.6848128, 10.7961721],
            [106.684845, 10.7963934],
            [106.6849282, 10.7965955],
            [106.6850998, 10.7967676],
            [106.6852688, 10.7968677],
            [106.6854592, 10.7969309],
            [106.6857222, 10.7969538],
            [106.6859125, 10.796894],
            [106.6861217, 10.7967254],
            [106.6862612, 10.7965225],
            [106.6868809, 10.7952043],
            [106.6869827, 10.7950181],
            [106.6871384, 10.7948882],
            [106.6873314, 10.7948205],
            [106.6875461, 10.794846],
            [106.6879752, 10.7950146],
            [106.6888549, 10.7955003],
            [106.689343, 10.7956162],
            [106.6898607, 10.7956979],
            [106.6905607, 10.7957848],
            [106.6908343, 10.7957901],
            [106.6910275, 10.7957664],
            [106.6915377, 10.7955228],
            [106.6916659, 10.7954573],
            [106.6925457, 10.7948882],
            [106.6930831, 10.7948172],
            [106.6938117, 10.7949303],
            [106.6942381, 10.794976],
            [106.6943829, 10.7949522],
            [106.6944446, 10.7948969],
            [106.694509, 10.7948205],
            [106.6945198, 10.7947195],
            [106.6945413, 10.7937499],
            [106.6945894, 10.7936191],
            [106.6946914, 10.7935189],
            [106.6948255, 10.7934478],
            [106.6949542, 10.7934056],
            [106.6951421, 10.7933916],
            [106.6956571, 10.7934338],
            [106.6959991, 10.7935004],
            [106.696451, 10.7935813],
            [106.6975106, 10.7936686],
            [106.6979516, 10.7936737],
            [106.6995624, 10.7935813],
            [106.7005267, 10.7934105],
            [106.7008713, 10.7933495],
            [106.7016008, 10.793223],
            [106.703296, 10.7928647],
            [106.7050341, 10.792422],
            [106.7062142, 10.7918951],
            [106.706426, 10.7916975],
            [106.7066434, 10.7914946],
            [106.7069438, 10.7910098],
            [106.7073086, 10.7899559],
            [106.7078879, 10.7887966],
            [106.7084029, 10.7881221],
            [106.7087058, 10.7877698],
            [106.7089522, 10.787598],
            [106.7094457, 10.7874663],
            [106.7098963, 10.7874241],
            [106.7105508, 10.7875243],
            [106.711334, 10.7877034],
            [106.7119563, 10.7877667],
            [106.7124714, 10.7877187],
            [106.7128876, 10.7875951],
            [106.7135957, 10.7871103],
            [106.7151836, 10.7852975],
            [106.713542, 10.7841329],
            [106.71123, 10.7825151],
            [106.7102215, 10.7811292],
            [106.7093793, 10.7791531],
            [106.7086819, 10.7769661],
            [106.7083815, 10.7749688],
            [106.7082205, 10.7731982],
            [106.7081991, 10.7714064],
            [106.7082448, 10.7706306],
            [106.7082795, 10.7703577],
            [106.7084384, 10.7695891],
            [106.7064395, 10.7690846],
            [106.7063607, 10.7690647],
            [106.7051741, 10.7687464],
            [106.7039322, 10.7681088],
            [106.7030428, 10.7676208],
            [106.7024737, 10.7670405],
            [106.7020213, 10.7664016],
            [106.7014694, 10.765518],
            [106.7014421, 10.7654864],
            [106.7013079, 10.7653316],
            [106.7009309, 10.7650611],
            [106.7003419, 10.7646921],
            [106.7000133, 10.7644863],
            [106.6998327, 10.7643925],
            [106.6991821, 10.7640546],
            [106.6985136, 10.7635987],
            [106.697996, 10.7630828],
            [106.6979731, 10.7630508],
            [106.6972244, 10.7620035],
            [106.6970706, 10.7617884],
            [106.6969099, 10.7615755],
            [106.6963877, 10.7608836],
            [106.6959468, 10.7603402],
            [106.6952862, 10.7597949],
            [106.6947078, 10.7594646],
            [106.6943171, 10.7592414],
            [106.692762, 10.758339],
            [106.6926659, 10.7582833],
            [106.6922899, 10.7580156],
            [106.6918549, 10.7577288],
            [106.6913135, 10.7573215],
            [106.6904469, 10.7565556],
            [106.6890914, 10.7553575],
            [106.6878741, 10.7541309],
            [106.6869967, 10.7532468],
            [106.6867091, 10.754147],
            [106.6863102, 10.754827],
            [106.686014, 10.75521],
            [106.685785, 10.7554718],
            [106.6855499, 10.7558161],
            [106.6852288, 10.7564432],
            [106.6851488, 10.7565526],
            [106.6821368, 10.764154],
            [106.68176, 10.7652],
            [106.6816512, 10.7654274],
        ],
        symbol: {
            type: "simple-line",
            color: [226, 119, 40], // orange
            width: 2,
        },
        // symbol: {
        //     type: "simple-fill",
        //     color: [255, 0, 0, 0.4], // Màu đỏ nhạt cho Quận 1
        //     outline: {
        //         color: [255, 255, 255],
        //         width: 2,
        //     },
        // },
        Name: "Quận 1",
        Location: "Tp. Hồ Chí Minh",
        popupTemplate: point_template_area,
    },
];

var jsondata = {
    points,
    lines,
    polygons,
};

require([
    "esri/Map",
    "esri/views/MapView",
    "esri/Graphic",
    "esri/layers/GraphicsLayer",
], function (Map, MapView, Graphic, GraphicsLayer) {
    var map = new Map({
        basemap: "topo-vector",
    });
    map.on("load", function () {
        map.graphics.enableMouseEvents();
    });

    var view = new MapView({
        container: "viewDiv",
        map: map,
        center: [106.703362, 10.776971], // Tọa độ trung tâm của Quận 1
        zoom: 15,
        highlightOptions: {
            color: "blue",
        },
    });
    var createGraphic = function (data) {
        return new Graphic({
            geometry: data,
            symbol: data.symbol,
            attributes: data,
            popupTemplate: data.popupTemplate,
        });
    };
    var graphicsLayer = new GraphicsLayer();
    jsondata.points.forEach(function (data) {
        graphicsLayer.add(createGraphic(data));
    });
    jsondata.lines.forEach(function (data) {
        graphicsLayer.add(createGraphic(data));
    });
    jsondata.polygons.forEach(function (data) {
        graphicsLayer.add(createGraphic(data));
    });
    map.add(graphicsLayer);
});
